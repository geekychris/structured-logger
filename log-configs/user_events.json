{
  "name": "UserEvents",
  "log_type": "user_events",
  "version": "1.0.0",
  "description": "Tracks user interaction events in the application",
  "kafka": {
    "topic": "user-events",
    "partitions": 6,
    "replication_factor": 3,
    "retention_ms": 2592000000
  },
  "warehouse": {
    "table_name": "analytics_logs.user_events",
    "partition_by": ["event_date", "event_type"],
    "sort_by": ["timestamp", "user_id"],
    "retention_days": 90
  },
  "fields": [
    {
      "name": "timestamp",
      "type": "timestamp",
      "required": true,
      "description": "Event timestamp"
    },
    {
      "name": "event_date",
      "type": "date",
      "required": true,
      "description": "Event date for partitioning"
    },
    {
      "name": "user_id",
      "type": "string",
      "required": true,
      "description": "Unique user identifier"
    },
    {
      "name": "session_id",
      "type": "string",
      "required": true,
      "description": "Session identifier"
    },
    {
      "name": "event_type",
      "type": "string",
      "required": true,
      "description": "Type of event (click, view, purchase, etc.)"
    },
    {
      "name": "page_url",
      "type": "string",
      "required": false,
      "description": "URL of the page where event occurred"
    },
    {
      "name": "properties",
      "type": "map<string,string>",
      "required": false,
      "description": "Additional event properties"
    },
    {
      "name": "device_type",
      "type": "string",
      "required": false,
      "description": "Device type (mobile, desktop, tablet)"
    },
    {
      "name": "duration_ms",
      "type": "long",
      "required": false,
      "description": "Duration of the event in milliseconds"
    }
  ]
}
